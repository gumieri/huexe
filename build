#!/bin/bash

GOOS=windows GOARCH=386 go build -o release/win-386/huexe/switch.exe --ldflags="-H windowsgui" ./cmd/switch
GOOS=windows GOARCH=386 go build -o release/win-386/huexe/dimmer.exe --ldflags="-H windowsgui" ./cmd/dimmer
GOOS=windows GOARCH=386 go build -o release/win-386/huexe/brighter.exe --ldflags="-H windowsgui" ./cmd/brighter

(cd release/win-386 && tar czf huexe_win-386.tar.gz huexe)
(cd release/win-386 && zip -r huexe_win-386.zip huexe)

GOOS=windows GOARCH=amd64 go build -o release/win-amd64/huexe/switch.exe --ldflags="-H windowsgui" ./cmd/switch
GOOS=windows GOARCH=amd64 go build -o release/win-amd64/huexe/dimmer.exe --ldflags="-H windowsgui" ./cmd/dimmer
GOOS=windows GOARCH=amd64 go build -o release/win-amd64/huexe/brighter.exe --ldflags="-H windowsgui" ./cmd/brighter

(cd release/win-amd64 && tar czf huexe_win-amd64.tar.gz huexe)
(cd release/win-amd64 && zip -r huexe_win-amd64.zip huexe)

GOOS=linux GOARCH=amd64 go build -o release/linux-amd64/huexe/switch ./cmd/switch
GOOS=linux GOARCH=amd64 go build -o release/linux-amd64/huexe/dimmer ./cmd/dimmer
GOOS=linux GOARCH=amd64 go build -o release/linux-amd64/huexe/brighter ./cmd/brighter

(cd release/linux-amd64 && tar czf huexe_linux-amd64.tar.gz huexe)
(cd release/linux-amd64 && zip -r huexe_linux-amd64.zip huexe)

GOOS=darwin GOARCH=amd64 go build -o release/osx-amd64/huexe/switch ./cmd/switch
GOOS=darwin GOARCH=amd64 go build -o release/osx-amd64/huexe/dimmer ./cmd/dimmer
GOOS=darwin GOARCH=amd64 go build -o release/osx-amd64/huexe/brighter ./cmd/brighter

(cd release/osx-amd64 && tar czf huexe_osx-amd64.tar.gz huexe)
(cd release/osx-amd64 && zip -r huexe_osx-amd64.zip huexe)
